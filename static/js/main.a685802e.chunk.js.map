{"version":3,"sources":["reportWebVitals.ts","store/auth/types.ts","store/auth/reducer.ts","store/shift/reducer.ts","store/index.tsx","rtl/index.tsx","store/shift/actions.ts","components/EmployeeItem.tsx","store/shift/types.ts","components/NumberPad.tsx","components/TimePad.tsx","percentage.svg","components/EmployeeForm.tsx","components/EmployeeList.tsx","components/SidePanel.tsx","components/WageForm.tsx","App.tsx","router/views/AboutView.tsx","router/views/ContactView.tsx","router/views/NotFoundView.tsx","router/index.tsx","index.tsx"],"names":["reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","SET_AUTH","UNSET_AUTH","initialState","loading","authReducer","state","action","type","payload","now","Date","setHours","date","employees","tip","cash","credit","shiftReducer","createReducer","SET_SHIFT","SET_WAGE","wage","ADD_EMPLOYEE","employee","UPDATE_EMPLOYEE","map","name","data","DELETE_EMPLOYEE","filter","rootReducer","combineReducers","auth","shift","store","configureStore","reducer","enhancers","undefined","useAppSelector","useSelector","useAppDispatch","useDispatch","StoreProvider","children","theme","createMuiTheme","direction","jss","create","plugins","jssPreset","rtl","RTL","StylesProvider","ThemeProvider","getShift","createDraftSafeSelector","length","start","this","getHours","getMinutes","end","hours","percent","perhour","Object","values","reduce","h","Math","round","EnterIcon","style","position","FingerprintRounded","color","bottom","right","CheckRounded","background","border","width","height","borderRadius","LeaveIcon","CloseRounded","Detail","label","React","useState","anchor","setAnchor","open","Boolean","Tooltip","onClose","title","arrow","disableFocusListener","Button","onClick","e","currentTarget","StyledMenu","withStyles","paper","props","Menu","elevation","getContentAnchorEl","anchorOrigin","vertical","horizontal","transformOrigin","StyledMenuItem","root","backgroundColor","palette","getContrastText","MenuItem","SlideUpTransition","forwardRef","ref","Slide","useStyles","makeStyles","card","margin","spacing","boxSizing","display","flexDirection","body","padding","header","alignItems","justifyContent","borderBottom","row","column","fullWidth","breakpoints","down","spaceItems","primaryText","fontWeight","rowLtr","centered","spaced","EmployeeItem","classes","dispatch","editOpen","setEditOpen","deleteOpen","setDeleteOpen","Time","value","minutes","handleEditClose","handleDeleteClose","Card","className","clsx","Avatar","fontSize","IconButton","MoreVertRounded","anchorEl","ListItemIcon","EditRounded","ListItemText","primary","DeleteRounded","ScheduleRounded","toLocaleString","maximumFractionDigits","LocalAtmRounded","marginTop","CreditCardRounded","AccountBalanceWalletOutlined","Dialog","TransitionComponent","onCancel","onSuccess","DialogTitle","DialogActions","BACKSPACE","CLEAR","CONFIRM","Pad","onConfirm","max","toString","input","setInput","pad","handleKeyUp","ev","key","isNaN","Number","Array","from","r","includes","find","b","button","document","getElementById","click","useEffect","addEventListener","removeEventListener","handlePadClick","slice","padRow","padInput","padMax","actionButton","id","CancelRounded","BackspaceOutlined","i","padItem","confirmItem","clearItem","Done","maxWidth","padOuter","cursor","outline","borderLeft","padIcon","flex","overflow","info","main","NumberPad","onChange","icon","Popover","defaultValue","setValue","focus","setFocus","index","setIndex","padValue","timeIndex","timeValue","console","log","padNumber","handleClick","target","padLabel","backspaceButton","padItemIcon","TimePad","handleClose","time","split","overflowX","up","item","field","items","submit","transition","transitions","easing","easeInOut","submitDisabled","grey","itemLabel","mainError","marginBottom","EmployeeForm","errors","setState","handleError","source","message","push","handleChange","replaceAll","substr","msg","RegExp","test","handleTimeChange","setTimeout","before","after","getTimeString","isDisabled","next","getElementsByName","querySelector","preventDefault","blur","onSubmit","keys","addEmployee","Typography","variant","component","Alert","severity","TextField","autoComplete","required","autoFocus","onKeyPress","error","helperText","inputProps","enterKeyHint","Icon","alt","src","Percent","disabled","toFixed","disableFocusRipple","disableRipple","disableElevation","CircularProgress","Check","container","minHeight","addButton","addForm","EmployeesList","add","setAdd","handleAddClose","Container","Add","SideItem","setOpen","placement","overflowY","borderRight","userSelect","minWidth","SidePanel","fields","PeopleAltOutlined","ScheduleOutlined","LocalAtmOutlined","CreditCardOutlined","AlarmOnOutlined","paddingRight","shape","active","itemText","textAlign","WageForm","isOpen","PaymentOutlined","AppBarDate","getDay","getDate","getMonth","getFullYear","size","CalendarTodayRounded","appBar","boxShadow","shadows","toolbar","mixins","zIndex","content","order","employeeButton","footer","alignSelf","App","AppBar","Toolbar","disableGutters","to","textDecoration","AboutView","ContactView","NotFoundView","AppRouter","basename","process","exact","path","status","ReactDOM","render"],"mappings":"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","file":"static/js/main.a685802e.chunk.js","sourcesContent":["import { ReportHandler } from 'web-vitals';\r\n\r\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import { Action } from \"redux\";\r\n\r\nexport interface AuthUser {\r\n    username: string\r\n    avatar: string\r\n    phone: string\r\n    firstname: string\r\n    lastname: string\r\n}\r\n\r\nexport interface AuthState {\r\n    loading: boolean\r\n    error?: string\r\n    user?: AuthUser\r\n    token?: string\r\n}\r\n\r\nexport const SET_AUTH = 'SET_AUTH'\r\n\r\nexport interface SetAuth extends Action<typeof SET_AUTH> {\r\n    payload: AuthState\r\n}\r\n\r\nexport const UNSET_AUTH = 'UNSET_AUTH'\r\n\r\nexport type UnsetAuth = Action<typeof UNSET_AUTH>\r\n\r\nexport const SET_AUTH_LOADING = 'SET_AUTH_LOADING'\r\n\r\nexport interface SetAuthLoading extends Action<typeof SET_AUTH_LOADING> {\r\n    payload: boolean\r\n}\r\n\r\nexport type AuthActions = SetAuth | UnsetAuth | SetAuthLoading","import { Reducer } from \"redux\";\r\nimport { AuthActions, AuthState, SET_AUTH, UNSET_AUTH } from \"./types\";\r\n\r\nconst initialState: AuthState = {\r\n    loading: true\r\n}\r\n\r\nconst authReducer: Reducer<AuthState, AuthActions> = (\r\n    state = initialState,\r\n    action\r\n): AuthState => {\r\n\r\n    switch (action.type) {\r\n        case SET_AUTH:\r\n            return state = action.payload\r\n        case UNSET_AUTH:\r\n            return state = { loading: false }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default authReducer","import { createReducer } from \"@reduxjs/toolkit\";\r\nimport { EmployeePayload, ShiftPayload } from \"./types\";\r\n\r\nconst now = new Date()\r\nconst defaultStartDate = new Date(now.setHours(10, 0, 0, 0))\r\nconst defaultEndDate = new Date(now.setHours(11, 0, 0, 0))\r\nconst employees_mocks: EmployeePayload[] = [\r\n    {\r\n        name: 'מתלמד',\r\n        start: defaultStartDate,\r\n        end: defaultEndDate,\r\n        percent: 0,\r\n        type: 'מתלמד'\r\n    },\r\n    {\r\n        name: 'מלצר',\r\n        start: defaultStartDate,\r\n        end: defaultEndDate,\r\n        percent: 100,\r\n        type: 'מלצר'\r\n    },\r\n    {\r\n        name: 'מלצר 2',\r\n        start: defaultStartDate,\r\n        end: defaultEndDate,\r\n        percent: 100,\r\n        type: 'מלצר'\r\n    },\r\n    {\r\n        name: 'מלצר 3',\r\n        start: defaultStartDate,\r\n        end: defaultEndDate,\r\n        percent: 100,\r\n        type: 'מלצר'\r\n    },\r\n    {\r\n        name: 'מלצר 4',\r\n        start: defaultStartDate,\r\n        end: defaultEndDate,\r\n        percent: 100,\r\n        type: 'מלצר'\r\n    },\r\n]\r\n\r\nconst initialState: ShiftPayload | null = {\r\n    date: new Date(),\r\n    employees: [], // process.env.NODE_ENV === 'development' ? employees_mocks : [],\r\n    tip: { cash: 0, credit: 0 },\r\n    type: 'בוקר'\r\n}\r\n\r\nconst shiftReducer = createReducer(\r\n    initialState,\r\n    {\r\n        SET_SHIFT: (state, action) => {\r\n            return state = action\r\n        },\r\n        SET_WAGE: (state, action) => {\r\n            return state = { ...state, tip: action.wage }\r\n        },\r\n        ADD_EMPLOYEE: (state, action) => {\r\n            return state = { ...state, employees: [...state.employees, action.employee] }\r\n        },\r\n        UPDATE_EMPLOYEE: (state, action) => {\r\n            state.employees = state.employees.map(employee => {\r\n                if (employee.name === action.name) {\r\n                    employee = action.data\r\n                }\r\n\r\n                return employee\r\n            })\r\n            return state\r\n        },\r\n        DELETE_EMPLOYEE: (state, action) => {\r\n            state.employees = state.employees.filter(employee => employee.name !== action.name)\r\n\r\n            return state\r\n        }\r\n    }\r\n)\r\n\r\nexport default shiftReducer","import { combineReducers, compose } from \"redux\";\r\nimport { configureStore } from '@reduxjs/toolkit'\r\nimport { TypedUseSelectorHook, useDispatch, useSelector, Provider } from \"react-redux\";\r\nimport authReducer from \"./auth/reducer\";\r\nimport React from \"react\";\r\nimport shiftReducer from \"./shift/reducer\";\r\n\r\ndeclare global {\r\n    interface Window {\r\n        __REDUX_DEVTOOLS_EXTENSION_COMPOSE__?: typeof compose\r\n    }\r\n}\r\n\r\nconst composeEnchacers = process.env.NODE_ENV === 'development' ? window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose : undefined\r\n\r\nconst rootReducer = combineReducers({\r\n    auth: authReducer,\r\n    shift: shiftReducer\r\n})\r\n\r\nconst store = configureStore({\r\n    reducer: rootReducer,\r\n    enhancers: composeEnchacers\r\n})\r\n\r\nexport const getStore = () => store\r\n\r\nexport type RootState = ReturnType<typeof store.getState>\r\nexport type AppDispatch = typeof store.dispatch\r\n\r\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector\r\nexport const useAppDispatch = () => useDispatch<AppDispatch>()\r\n\r\nconst StoreProvider: React.FC = ({ children }) => {\r\n    return (\r\n        <Provider store={getStore()}>\r\n            {children}\r\n        </Provider>\r\n    )\r\n}\r\n\r\nexport default StoreProvider","import { createMuiTheme, jssPreset, StylesProvider, ThemeProvider } from '@material-ui/core'\r\nimport { create } from 'jss'\r\nimport rtl from 'jss-rtl'\r\n\r\nconst theme = createMuiTheme({\r\n    direction: 'rtl'\r\n})\r\n\r\nconst jss = create({ plugins: [...jssPreset().plugins, rtl()] })\r\n\r\nconst RTL: React.FC = ({ children }) => {\r\n    return (\r\n        <StylesProvider jss={jss}>\r\n            <ThemeProvider theme={theme}>\r\n                {children}\r\n            </ThemeProvider>\r\n        </StylesProvider>\r\n    )\r\n}\r\n\r\nexport default RTL","import { createDraftSafeSelector } from \"@reduxjs/toolkit\";\r\nimport { RootState } from \"..\";\r\nimport { ADD_EMPLOYEE, DELETE_EMPLOYEE, EmployeePayload, SET_SHIFT, SET_WAGE, Shift, ShiftActions, ShiftPayload, UPDATE_EMPLOYEE, Wage } from \"./types\";\r\n\r\nexport function setShift(shift: Shift): ShiftActions {\r\n    return {\r\n        type: SET_SHIFT,\r\n        shift\r\n    }\r\n}\r\n\r\nexport function setShiftWage(wage: Wage): ShiftActions {\r\n    return {\r\n        type: SET_WAGE,\r\n        wage\r\n    }\r\n}\r\n\r\nexport function addEmployee(employee: EmployeePayload): ShiftActions {\r\n    return {\r\n        type: ADD_EMPLOYEE,\r\n        employee\r\n    }\r\n}\r\n\r\nexport function updateEmployeeByName(name: string, data: EmployeePayload): ShiftActions | undefined {\r\n    return {\r\n        type: UPDATE_EMPLOYEE,\r\n        name,\r\n        data\r\n    }\r\n}\r\n\r\nexport function deleteEmployeeByName(name: string): ShiftActions {\r\n    return {\r\n        type: DELETE_EMPLOYEE,\r\n        name\r\n    }\r\n}\r\n\r\nconst selectShift = (state: RootState) => state.shift\r\nexport const getShift = createDraftSafeSelector(selectShift, (state: ShiftPayload) => {\r\n    if (state) {\r\n        const shift: Shift = {\r\n            ...state,\r\n            employees: state.employees.map(employee => {\r\n                return {\r\n                    ...employee,\r\n                    get id() {\r\n                        return `W${shift.employees.length}`\r\n                    },\r\n                    get hours() {\r\n                        const start = (this.start.getHours() + (this.start.getMinutes() / 60))\r\n                        const end = this.end.getHours() + (this.end.getMinutes() / 60)\r\n                        const hours = (start > end ? (24 - start) + end : (+this.end - +this.start) / 1000 / 3600) || 0\r\n\r\n                        return (this.percent / 100) * hours\r\n                    },\r\n                    get tip() {\r\n                        return {\r\n                            cash: shift.perhour.cash * this.hours,\r\n                            credit: shift.perhour.credit * this.hours,\r\n                            get total() {\r\n                                return this.cash + this.credit\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }),\r\n            get hours() {\r\n                return Object.values(this.employees).reduce((h, { hours }) => h + hours, 0)\r\n            },\r\n            get perhour() {\r\n                return {\r\n                    cash: this.hours > 0 ? this.tip.cash / this.hours : 0,\r\n                    credit: this.hours > 0 ? this.tip.credit / this.hours : 0,\r\n                    get total() {\r\n                        return Math.round(this.cash + this.credit)\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return shift\r\n    }\r\n})","import { Avatar, Button, Card, IconButton, makeStyles, Theme, Tooltip, Menu, MenuProps, MenuItem, withStyles, ListItemIcon, ListItemText, Slide, Dialog, DialogActions, DialogTitle } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { Employee } from '../store/shift/types'\r\nimport clsx from 'clsx'\r\nimport { CheckRounded, CloseRounded, CreditCardRounded, FingerprintRounded, LocalAtmRounded, ScheduleRounded, AccountBalanceWalletOutlined, MoreVertRounded, EditRounded, DeleteRounded } from '@material-ui/icons'\r\nimport { TransitionProps } from '@material-ui/core/transitions'\r\nimport EmployeeForm from './EmployeeForm'\r\nimport { useAppDispatch } from '../store'\r\nimport { deleteEmployeeByName } from '../store/shift/actions'\r\n\r\ninterface EmployeeItemProps {\r\n    employee: Employee\r\n}\r\n\r\nexport const EnterIcon = () => {\r\n    return (\r\n        <div style={{ position: 'relative' }}>\r\n            <FingerprintRounded style={{ color: 'darkGreen' }} />\r\n            <div style={{ position: 'absolute', bottom: 0, right: 4 }}>\r\n                <CheckRounded style={{ background: 'rgba(255,255,255,7)', border: '.5px solid darkGreen', width: 12, height: 12, color: 'darkGreen', borderRadius: 4 }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const LeaveIcon = () => {\r\n    return (\r\n        <div style={{ position: 'relative' }}>\r\n            <FingerprintRounded style={{ color: 'tomato' }} />\r\n            <div style={{ position: 'absolute', bottom: 0, right: 4 }}>\r\n                <CloseRounded style={{ background: 'rgba(255,255,255,7)', border: '.5px solid tomato', width: 12, height: 12, color: 'tomato', borderRadius: 4 }} />\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst Detail: React.FC<{ label: string }> = ({ label, children }) => {\r\n    const [anchor, setAnchor] = React.useState<HTMLElement | null>(null)\r\n\r\n    const handleOpen = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchor(e.currentTarget)\r\n    }\r\n\r\n    const handleClose = () => setAnchor(null)\r\n\r\n    const open = Boolean(anchor)\r\n\r\n    return (\r\n        <Tooltip\r\n            open={open}\r\n            onClose={handleClose}\r\n            title={label || ''}\r\n            arrow\r\n            disableFocusListener\r\n        >\r\n            <Button\r\n                onClick={handleOpen}\r\n            >\r\n                {children}\r\n            </Button>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nconst StyledMenu = withStyles({\r\n    paper: {\r\n        border: '1px solid #999',\r\n    },\r\n})((props: MenuProps) => (\r\n    <Menu\r\n        elevation={0}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'center',\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'center',\r\n        }}\r\n        {...props}\r\n    />\r\n));\r\n\r\nconst StyledMenuItem = withStyles((theme) => ({\r\n    root: {\r\n        '&:focus': {\r\n            backgroundColor: '#ebebeb',\r\n            '& .MuiListItemIcon-root, & .MuiListItemText-primary': {\r\n                color: theme.palette.getContrastText('#ebebeb'),\r\n            },\r\n        },\r\n    },\r\n}))(MenuItem);\r\n\r\nexport const SlideUpTransition = React.forwardRef(function Transition(\r\n    props: TransitionProps & { children?: React.ReactElement<any, any> },\r\n    ref: React.Ref<unknown>,\r\n) {\r\n    return <Slide direction=\"up\" ref={ref} {...props} />;\r\n});\r\n\r\nconst EmployeeItem: React.FC<EmployeeItemProps> = ({ employee }) => {\r\n    const classes = useStyles()\r\n    const dispatch = useAppDispatch()\r\n    const [anchor, setAnchor] = React.useState<HTMLElement | null>(null)\r\n    const [editOpen, setEditOpen] = React.useState<boolean>(false)\r\n    const [deleteOpen, setDeleteOpen] = React.useState<boolean>(false)\r\n\r\n    const Time: React.FC<{ value: Date }> = ({ value }) => {\r\n        const hours = value.getHours()\r\n        const minutes = value.getMinutes()\r\n\r\n        return (\r\n            <>\r\n                {hours < 10 ? `0${hours}` : hours}:{minutes < 10 ? `0${minutes}` : minutes}\r\n            </>\r\n        )\r\n    }\r\n\r\n    const open = Boolean(anchor)\r\n\r\n    const handleOpen = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        setAnchor(e.currentTarget)\r\n    }\r\n    const handleClose = () => setAnchor(null)\r\n\r\n    const handleEditOpen = () => {\r\n        setEditOpen(true)\r\n        setAnchor(null)\r\n    }\r\n\r\n    const handleEditClose = () => {\r\n        setEditOpen(false)\r\n    }\r\n\r\n    const handleDeleteOpen = () => {\r\n        setDeleteOpen(true)\r\n        setAnchor(null)\r\n    }\r\n\r\n    const handleDeleteClose = () => setDeleteOpen(false)\r\n\r\n    const handleDeleteConfirm = () => {\r\n        dispatch(deleteEmployeeByName(employee.name))\r\n        handleDeleteClose()\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Card className={classes.card}>\r\n                <div className={clsx(classes.row, classes.fullWidth, classes.header)}>\r\n                    <div className={classes.row} style={{ alignItems: 'center' }}>\r\n                        <div style={{ padding: 8 }}>\r\n                            <Avatar />\r\n                        </div>\r\n                        <div style={{ display: 'flex', justifyContent: 'space-between', flexDirection: 'column' }}>\r\n                            <div style={{ fontWeight: 600, fontSize: 16 }}>{employee.name}</div>\r\n                            <div style={{ fontSize: 12, }}>{employee.type} <span style={{ fontWeight: 600 }}>{employee.percent}%</span></div>\r\n                        </div>\r\n                    </div>\r\n                    <IconButton\r\n                        onClick={handleOpen}\r\n                    >\r\n                        <MoreVertRounded />\r\n                    </IconButton>\r\n                    <StyledMenu\r\n                        open={open}\r\n                        anchorEl={anchor}\r\n                        onClose={handleClose}\r\n                        anchorOrigin={{\r\n                            vertical: 'bottom',\r\n                            horizontal: 'center',\r\n                        }}\r\n                        transformOrigin={{\r\n                            vertical: 'top',\r\n                            horizontal: 'center',\r\n                        }}\r\n                    >\r\n                        <StyledMenuItem onClick={handleEditOpen}>\r\n                            <ListItemIcon>\r\n                                <EditRounded />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"ערוך\" />\r\n                        </StyledMenuItem>\r\n                        <StyledMenuItem onClick={handleDeleteOpen}>\r\n                            <ListItemIcon>\r\n                                <DeleteRounded />\r\n                            </ListItemIcon>\r\n                            <ListItemText primary=\"מחק\" />\r\n                        </StyledMenuItem>\r\n                    </StyledMenu>\r\n                </div>\r\n                <div className={classes.body}>\r\n                    <div className={clsx(classes.column, classes.spaceItems)}>\r\n                        <div className={clsx(classes.row, classes.spaceItems, classes.fullWidth)}>\r\n                            <Detail label=\"שעת כניסה\">\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <EnterIcon />\r\n                                    <span>\r\n                                        <Time value={employee.start} />\r\n                                    </span>\r\n                                </div>\r\n                            </Detail>\r\n                            <Detail label=\"שעת יציאה\">\r\n                                <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                                    <LeaveIcon />\r\n                                    <span>\r\n                                        <Time value={employee.end} />\r\n                                    </span>\r\n                                </div>\r\n                            </Detail>\r\n                            <Detail label={`שעות עובד בחישוב ${employee.percent}%`}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                                    <ScheduleRounded style={{ height: 31, color: '#999' }} />\r\n                                    <span style={{ color: '#333' }}>{employee.hours.toLocaleString('en-US', { maximumFractionDigits: 2 })}</span>\r\n                                </div>\r\n                            </Detail>\r\n                        </div>\r\n                        <div className={clsx(classes.row, classes.spaceItems, classes.fullWidth)}>\r\n                            <Detail label={`סה\"כ מזומן ל${employee.name}`}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                                    <LocalAtmRounded style={{ height: 31, color: '#0089c0' }} />\r\n                                    <span style={{ color: '#333', fontSize: 16 }}>{employee.tip.cash.toLocaleString('en-US', { maximumFractionDigits: 2 })}</span>\r\n                                    <span style={{ fontSize: 11, marginTop: -6, color: '#999' }}>מזומן</span>\r\n                                </div>\r\n                            </Detail>\r\n                            <Detail label={`סה\"כ אשראי ל${employee.name}`}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                                    <CreditCardRounded style={{ height: 31, color: '#0089c0' }} />\r\n                                    <span style={{ color: '#333', fontSize: 16 }}>{employee.tip.credit.toLocaleString('en-US', { maximumFractionDigits: 2 })}</span>\r\n                                    <span style={{ fontSize: 11, marginTop: -6, color: '#999' }}>אשראי</span>\r\n                                </div>\r\n                            </Detail>\r\n                            <Detail label={`סה\"כ אשראי ומזומן`}>\r\n                                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center' }}>\r\n                                    <AccountBalanceWalletOutlined style={{ height: 31, color: '#0089c0' }} />\r\n                                    <span style={{ color: '#333', fontSize: 16 }}>{(employee.tip.cash + employee.tip.credit).toLocaleString('en-US', { maximumFractionDigits: 2 })}</span>\r\n                                    <span style={{ fontSize: 11, marginTop: -6, color: '#999' }}>סה\"כ</span>\r\n                                </div>\r\n                            </Detail>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </Card>\r\n            <Dialog\r\n                open={editOpen}\r\n                TransitionComponent={SlideUpTransition}\r\n                onClose={() => setEditOpen(false)}\r\n            >\r\n                <EmployeeForm onCancel={handleEditClose} employee={employee} onSuccess={handleEditClose} />\r\n            </Dialog>\r\n            <Dialog\r\n                open={deleteOpen}\r\n                TransitionComponent={SlideUpTransition}\r\n                onClose={() => setDeleteOpen(false)}\r\n            >\r\n                <DialogTitle>האם אתה בטוח שברצונך למחוק את {employee.name}?</DialogTitle>\r\n                <DialogActions>\r\n                    <Button onClick={handleDeleteClose} color=\"primary\">\r\n                        לא\r\n                    </Button>\r\n                    <Button onClick={handleDeleteConfirm} color=\"secondary\">\r\n                        כן\r\n                    </Button>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    card: {\r\n        margin: theme.spacing(.5, 0),\r\n        boxSizing: 'border-box',\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    body: {\r\n        padding: theme.spacing(.5, 1),\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n    },\r\n    header: {\r\n        background: '#fff',\r\n        color: '#333',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        borderBottom: '1px solid #dbdbdb',\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n    },\r\n    column: {\r\n        display: 'flex',\r\n        flexDirection: 'column'\r\n    },\r\n    fullWidth: {\r\n        width: '100%',\r\n        [theme.breakpoints.down(315)]: {\r\n            width: 'auto'\r\n        }\r\n    },\r\n    spaceItems: {\r\n        justifyContent: 'space-around',\r\n        [theme.breakpoints.down(315)]: {\r\n            flexDirection: 'column',\r\n            width: 'auto'\r\n        }\r\n    },\r\n    primaryText: {\r\n        color: '#0089c0',\r\n        fontWeight: 700\r\n    },\r\n    rowLtr: {\r\n        direction: 'ltr',\r\n        flexDirection: 'row-reverse'\r\n    },\r\n    centered: {\r\n        alignItems: 'center',\r\n        justifyContent: 'center'\r\n    },\r\n    spaced: {\r\n        boxSizing: 'border-box',\r\n    }\r\n}))\r\n\r\nexport default EmployeeItem","\r\ntype ShiftType = 'בוקר' | 'ערב'\r\n\r\nexport interface Wage {\r\n    cash: number\r\n    credit: number\r\n}\r\n\r\nexport type MapObject<O> = {\r\n    [key in keyof O]: O[key]\r\n}\r\n\r\nexport interface EmployeePayload {\r\n    name: string\r\n    type?: string\r\n    start: Date\r\n    end: Date\r\n    percent: number\r\n}\r\n\r\nexport interface Employee extends EmployeePayload {\r\n    hours: number\r\n    tip: Wage\r\n    id: string\r\n}\r\n\r\nexport interface ShiftPayload {\r\n    type: ShiftType\r\n    date: Date\r\n    tip: Wage\r\n    employees: EmployeePayload[]\r\n}\r\n\r\nexport interface Shift extends ShiftPayload {\r\n    readonly employees: Employee[]\r\n    readonly perhour: Wage\r\n    readonly hours: number\r\n}\r\n\r\nexport const SET_SHIFT = 'SET_SHIFT'\r\n\r\nexport interface SetShift {\r\n    type: typeof SET_SHIFT\r\n    shift: ShiftPayload\r\n}\r\n\r\nexport const SET_WAGE = 'SET_WAGE'\r\n\r\nexport interface SetWage {\r\n    type: typeof SET_WAGE\r\n    wage: Wage\r\n}\r\n\r\nexport const ADD_EMPLOYEE = 'ADD_EMPLOYEE'\r\n\r\nexport interface AddEmployee {\r\n    type: typeof ADD_EMPLOYEE\r\n    employee: EmployeePayload\r\n}\r\n\r\nexport const UPDATE_EMPLOYEE = 'UPDATE_EMPLOYEE'\r\n\r\nexport interface UpdateEmployee {\r\n    type: typeof UPDATE_EMPLOYEE\r\n    name: string\r\n    data: EmployeePayload\r\n}\r\n\r\nexport const DELETE_EMPLOYEE = 'DELETE_EMPLOYEE'\r\n\r\nexport interface DeleteEmployee {\r\n    type: typeof DELETE_EMPLOYEE\r\n    name: string\r\n}\r\n\r\nexport type ShiftActions = SetShift | SetWage | AddEmployee | UpdateEmployee | DeleteEmployee","import React from 'react'\r\nimport { makeStyles, Theme, Popover, Button } from '@material-ui/core'\r\nimport { BackspaceOutlined, CancelRounded, Done } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\ninterface NumberPadProps {\r\n    open?: HTMLElement\r\n    value?: number\r\n    label?: string\r\n    icon?: React.ReactNode\r\n    onChange?: (value: number) => void\r\n    max?: number\r\n    id?: string\r\n}\r\n\r\ninterface PadProps {\r\n    value?: number\r\n    onConfirm?: (value: number) => void\r\n    max?: number\r\n    label?: string\r\n}\r\n\r\nconst BACKSPACE = 'Backspace'\r\nconst CLEAR = 'Delete'\r\nconst CONFIRM = 'Enter'\r\n\r\nconst Pad: React.FC<PadProps> = ({ value, onConfirm, max, label }) => {\r\n    const classes = useStyles()\r\n    const [input, setInput] = React.useState<string>(value?.toString() || '0')\r\n\r\n    const pad = [\r\n        [1, 2, 3],\r\n        [4, 5, 6],\r\n        [7, 8, 9],\r\n        ['.', 0, CONFIRM]\r\n    ]\r\n\r\n    React.useEffect(() => {\r\n        document.addEventListener('keyup', handleKeyUp)\r\n\r\n        return () => document.removeEventListener('keyup', handleKeyUp)\r\n    })\r\n\r\n    function handleKeyUp(this: Document, ev: KeyboardEvent) {\r\n        const key = isNaN(Number(ev.key)) ? ev.key : Number(ev.key)\r\n        const isValid = Boolean(Array.from(pad, r => r.includes(key)).find(b => b === true)) || [CLEAR, BACKSPACE].includes(key.toString())\r\n\r\n        if (isValid) {\r\n            const button = document.getElementById(key.toString())\r\n            button?.click()\r\n        }\r\n    }\r\n\r\n    const handlePadClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        max = max || 9999\r\n        switch (e.currentTarget.value) {\r\n            case BACKSPACE:\r\n                return setInput(input.toString().slice(0, -1))\r\n            case CLEAR:\r\n                return setInput('0')\r\n            case CONFIRM:\r\n                return onConfirm?.(Number(input))\r\n            case '.':\r\n                if (input.includes('.')) return\r\n                return setInput(`${input}.`)\r\n            default:\r\n                if (Number(input + e.currentTarget.value) > max) return setInput(max.toString())\r\n                if (input === '0') return setInput(e.currentTarget.value)\r\n                return setInput(input + e.currentTarget.value)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.pad} style={{ position: 'relative' }}>\r\n            <div className={classes.padRow}>\r\n                <div className={classes.padInput}>\r\n                    <div style={{ direction: 'ltr' }}>{input.toLocaleString()}</div>\r\n                    {label && <div className={classes.padMax}>{label}</div>}\r\n                    {!label && max && <div className={classes.padMax}>max {max?.toLocaleString()}</div>}\r\n                </div>\r\n                {\r\n                    input !== '' && input !== '0' &&\r\n                    <button className={clsx(classes.actionButton)} id={CLEAR} value={CLEAR} onClick={handlePadClick}>\r\n                        <CancelRounded fontSize=\"inherit\" />\r\n                    </button>\r\n                }\r\n                <button className={clsx(classes.actionButton)} id={BACKSPACE} value={BACKSPACE} onClick={handlePadClick}>\r\n                    <BackspaceOutlined fontSize=\"inherit\" />\r\n                </button>\r\n            </div>\r\n            {\r\n                pad.map((row, i) => (\r\n                    <div key={i} className={classes.padRow}>\r\n                        {\r\n                            row.map((pad, i) => (\r\n                                <button\r\n                                    key={i}\r\n                                    className={clsx(classes.padItem, pad === CONFIRM && classes.confirmItem, pad === CLEAR && classes.clearItem)}\r\n                                    value={pad}\r\n                                    onClick={handlePadClick}\r\n                                    id={pad.toString()}\r\n                                >\r\n                                    {\r\n                                        pad === '.' && '.'\r\n                                    }\r\n                                    {\r\n                                        typeof pad === 'number' && pad.toString()\r\n                                    }\r\n                                    {\r\n                                        pad === CONFIRM && <Done fontSize=\"inherit\" />\r\n                                    }\r\n                                    {\r\n                                        pad === CLEAR && pad[0]\r\n                                    }\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst NumberPad: React.FC<NumberPadProps> = ({ value, onChange, max, label, icon, id }) => {\r\n    const classes = useStyles()\r\n    const [anchor, setAnchor] = React.useState<HTMLElement | null>(null)\r\n    const [input, setInput] = React.useState<number>(value || 0)\r\n\r\n    const handleOpen = (e: React.MouseEvent<HTMLElement>) => setAnchor(e.currentTarget)\r\n    const handleClose = () => setAnchor(null)\r\n\r\n    const handleConfirm = (value: number) => {\r\n        onChange?.(value)\r\n        setInput(value)\r\n        setAnchor(null)\r\n    }\r\n\r\n    const open = Boolean(anchor)\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Button\r\n                id={id}\r\n                className={classes.input}\r\n                onClick={handleOpen}\r\n                style={{ fontSize: 18 }}\r\n            >\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                    {icon}\r\n                    <div>{input.toLocaleString('en-US', { maximumFractionDigits: 2 })}</div>\r\n                    {label && <span className={classes.label}>{label}</span>}\r\n                </div>\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchor}\r\n                onClose={handleClose}\r\n                anchorOrigin={{\r\n                    vertical: 'bottom',\r\n                    horizontal: 'center',\r\n                }}\r\n                transformOrigin={{\r\n                    vertical: 'top',\r\n                    horizontal: 'center',\r\n                }}\r\n            >\r\n                <Pad label={label} max={max} value={input} onConfirm={handleConfirm} />\r\n            </Popover>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    input: {\r\n        width: '100%',\r\n        color: 'inherit'\r\n    },\r\n    pad: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        border: '1px solid #efefef',\r\n        maxWidth: `calc(75px * 3)`\r\n    },\r\n    padOuter: {\r\n    },\r\n    padRow: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'row-reverse',\r\n        '&:not(:last-child)': {\r\n            borderBottom: '1px solid #efefef'\r\n        }\r\n    },\r\n    padItem: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: 'pointer',\r\n        border: 0,\r\n        boxSizing: 'border-box',\r\n        fontSize: 18,\r\n        background: 'transparent',\r\n        width: 75,\r\n        height: 75,\r\n        outline: 'none',\r\n        '&:not(:last-child)': {\r\n            borderLeft: '1px solid #efefef'\r\n        }\r\n    },\r\n    padIcon: {\r\n        color: 'inherit'\r\n    },\r\n    padInput: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(0, 1),\r\n        flex: 1,\r\n        position: 'relative',\r\n        alignItems: 'flex-end',\r\n        fontSize: 24,\r\n        justifyContent: 'center',\r\n        maxWidth: '60%',\r\n        outline: 'none',\r\n        overflow: 'hidden'\r\n    },\r\n    padMax: {\r\n        position: 'absolute',\r\n        bottom: 2,\r\n        fontSize: 10,\r\n        color: '#999',\r\n    },\r\n    actionButton: {\r\n        height: 75,\r\n        border: 0,\r\n        background: 'transparent',\r\n        color: '#999',\r\n        fontSize: 24,\r\n        outline: 'none',\r\n    },\r\n    confirmItem: {\r\n        color: theme.palette.info.main,\r\n        fontSize: 28,\r\n    },\r\n    clearItem: {\r\n    },\r\n    label: {\r\n        color: '#999',\r\n        fontSize: 11\r\n    }\r\n}))\r\n\r\nexport default NumberPad","import { makeStyles, Popover, Theme, Button } from '@material-ui/core'\r\nimport { BackspaceOutlined, Done } from '@material-ui/icons'\r\nimport React from 'react'\r\nimport clsx from 'clsx'\r\n\r\ninterface TimePadProps {\r\n    value?: string\r\n    onChange?: (value: string[]) => void\r\n    icon?: React.ReactNode\r\n    label?: string\r\n    id?: string\r\n}\r\n\r\ninterface PadProps {\r\n    value?: string[]\r\n    label?: string\r\n    onConfirm?: (value: string[]) => void\r\n}\r\n\r\nconst BACKSPACE = 'Backspace'\r\nconst CLEAR = 'Delete'\r\nconst CONFIRM = 'Enter'\r\n\r\nconst Pad: React.FC<PadProps> = ({ value: defaultValue, onConfirm, label }) => {\r\n    const classes = useStyles()\r\n    const [value, setValue] = React.useState<string[]>(defaultValue || ['00', '00'])\r\n    const [focus, setFocus] = React.useState<'hour' | 'min'>('hour')\r\n    const [index, setIndex] = React.useState<number>(0)\r\n\r\n    const pad = [\r\n        [1, 2, 3],\r\n        [4, 5, 6],\r\n        [7, 8, 9],\r\n        [CLEAR, 0, CONFIRM]\r\n    ]\r\n\r\n    React.useEffect(() => {\r\n        document.addEventListener('keyup', handleKeyUp)\r\n\r\n        return () => document.removeEventListener('keyup', handleKeyUp)\r\n    })\r\n\r\n    function handleKeyUp(this: Document, ev: KeyboardEvent) {\r\n        const key = isNaN(Number(ev.key)) ? ev.key : Number(ev.key)\r\n        const isValid = Boolean(Array.from(pad, r => r.includes(key)).find(b => b === true)) || [CLEAR, BACKSPACE].includes(key.toString())\r\n\r\n        if (isValid) {\r\n            const button = document.getElementById(key.toString())\r\n            button?.click()\r\n        }\r\n    }\r\n\r\n    const handlePadClick = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        const padValue = e.currentTarget.value\r\n        const timeIndex = focus === 'hour' ? 0 : 1\r\n        const timeValue = value[timeIndex]\r\n\r\n        if (isNaN(Number(padValue))) {\r\n            switch (padValue) {\r\n                case CLEAR:\r\n                    return setValue(['', ''])\r\n                case BACKSPACE:\r\n                    value[timeIndex] = ''\r\n                    return setValue([...value])\r\n                case CONFIRM:\r\n                    return onConfirm?.(value)\r\n            }\r\n            return\r\n        }\r\n\r\n        console.log({ timeValue, padValue })\r\n        const padNumber = Number(padValue)\r\n\r\n        switch (index) {\r\n            case 0:\r\n                if (padNumber > 2) {\r\n                    setValue([`0${padValue}`, value[1]])\r\n                    setFocus('min')\r\n                    setIndex(2)\r\n                    return\r\n                }\r\n\r\n                setIndex(1)\r\n                setValue([padValue, value[1]])\r\n                return;\r\n            case 1:\r\n                if (Number(value[0] + padValue) === 24) {\r\n                    setValue(['00', value[1]])\r\n                    setIndex(2)\r\n                    setFocus('min')\r\n                    return\r\n                }\r\n\r\n                if (Number(value[0] + padValue) > 24) return\r\n\r\n                setValue([`${value[0]}${padValue}`, value[1]])\r\n                setFocus('min')\r\n                setIndex(2)\r\n                return\r\n            case 2:\r\n                if (padNumber > 5) {\r\n                    setValue([value[0], `0${padValue}`])\r\n                    return\r\n                }\r\n                setValue([value[0], padValue])\r\n                setIndex(3)\r\n                return\r\n            case 3:\r\n                if (Number(`${value[1]}${padValue}`) > 59) {\r\n                    return console.log('error', Number(`${value[1]}${padValue}`))\r\n                }\r\n                setValue([value[0], `${value[1]}${padValue}`])\r\n                onConfirm?.([value[0], `${value[1]}${padValue}`])\r\n                return\r\n            default:\r\n                return;\r\n        }\r\n    }\r\n\r\n    const handleClick = (target: 'hour' | 'min') => {\r\n        setFocus(target)\r\n        setIndex(target === 'hour' ? 0 : 2)\r\n\r\n        if (target === 'min') {\r\n            if (Number(value[0]) < 10 && value[0].length <= 1) {\r\n                setValue([`0${value[0] || 0}`, value[1]])\r\n            }\r\n        }\r\n\r\n        if (target === 'hour') {\r\n            if (Number(value[1]) < 10 && value[1].length <= 1) {\r\n                setValue([value[0], `0${value[1] || 0}`])\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div className={classes.pad} style={{ position: 'relative' }}>\r\n            <div className={classes.padRow}>\r\n                <div className={classes.padInput}>\r\n                    <div style={{ direction: 'ltr', display: 'flex' }}>\r\n                        <div onClick={() => handleClick('hour')} style={{ background: focus === 'hour' ? '#efefef' : 'transparent' }}>{value[0]}</div>\r\n                        :\r\n                        <div onClick={() => handleClick('min')} style={{ background: focus === 'min' ? '#efefef' : 'transparent' }}>{value[1]}</div>\r\n                    </div>\r\n                    <div className={classes.padLabel}>{label}</div>\r\n                </div>\r\n                <button id={BACKSPACE} className={clsx(classes.padItem, classes.backspaceButton)} value={BACKSPACE} onClick={handlePadClick}>\r\n                    <BackspaceOutlined fontSize=\"inherit\" />\r\n                </button>\r\n            </div>\r\n            {\r\n                pad.map((row, i) => (\r\n                    <div key={i} className={classes.padRow}>\r\n                        {\r\n                            row.map((pad, i) => (\r\n                                <button\r\n                                    key={i}\r\n                                    className={clsx(classes.padItem, pad === CONFIRM && classes.confirmItem, pad === CLEAR && classes.clearItem)}\r\n                                    value={pad}\r\n                                    onClick={handlePadClick}\r\n                                    id={pad.toString()}\r\n                                >\r\n                                    {\r\n                                        typeof pad === 'number' && pad.toString()\r\n                                    }\r\n                                    {\r\n                                        pad === CONFIRM && <Done fontSize=\"inherit\" />\r\n                                    }\r\n                                    {\r\n                                        pad === CLEAR && 'C'\r\n                                    }\r\n                                </button>\r\n                            ))\r\n                        }\r\n                    </div>\r\n                ))\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nconst TimePad: React.FC<TimePadProps> = ({ value, onChange, icon, label, id }) => {\r\n    const classes = useStyles()\r\n    const [anchor, setAnchor] = React.useState<HTMLElement | null>(null)\r\n\r\n    const handleOpen = (e: React.MouseEvent<HTMLElement>) => setAnchor(e.currentTarget)\r\n    const handleClose = () => setAnchor(null)\r\n\r\n    const handleTimeConfirm = (value: string[]) => {\r\n        onChange?.(value)\r\n        handleClose()\r\n    }\r\n\r\n    const open = Boolean(anchor)\r\n    const time = value?.split(':') || ['00', '00']\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Button\r\n                className={classes.input}\r\n                onClick={handleOpen}\r\n                style={{ fontSize: 18 }}\r\n                id={id}\r\n            >\r\n                <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                    {icon}\r\n                    <div>{time[0]}:{time[1]}</div>\r\n                    {label && <span className={classes.label}>{label}</span>}\r\n                </div>\r\n            </Button>\r\n            <Popover\r\n                open={open}\r\n                anchorEl={anchor}\r\n                onClose={handleClose}\r\n            >\r\n                <Pad label={label} value={time} onConfirm={handleTimeConfirm} />\r\n            </Popover>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n\r\n    },\r\n    input: {\r\n\r\n    },\r\n    pad: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        border: '1px solid #efefef',\r\n    },\r\n    padRow: {\r\n        display: 'flex',\r\n        flexDirection: 'row-reverse',\r\n        '&:not(:last-child)': {\r\n            borderBottom: '1px solid #efefef'\r\n        }\r\n    },\r\n    padItem: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        cursor: 'pointer',\r\n        border: 0,\r\n        boxSizing: 'border-box',\r\n        fontSize: 18,\r\n        background: 'transparent',\r\n        width: 75,\r\n        height: 75,\r\n        outline: 'none',\r\n        '&:not(:last-child)': {\r\n            borderLeft: '1px solid #efefef'\r\n        }\r\n    },\r\n    padItemIcon: {\r\n    },\r\n    padInput: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(0, 1),\r\n        flex: 1,\r\n        position: 'relative',\r\n        alignItems: 'flex-end',\r\n        fontSize: 24,\r\n        justifyContent: 'center'\r\n    },\r\n    padMax: {\r\n        position: 'absolute',\r\n        bottom: 2,\r\n        fontSize: 10,\r\n        color: '#999',\r\n    },\r\n    backspaceButton: {\r\n    },\r\n    confirmItem: {\r\n        color: theme.palette.info.main,\r\n        fontSize: 28,\r\n    },\r\n    clearItem: {\r\n    },\r\n    label: {\r\n        color: '#999',\r\n        fontSize: 11\r\n    },\r\n    padLabel: {\r\n        position: 'absolute',\r\n        color: '#999',\r\n        fontSize: 12,\r\n        bottom: 2\r\n    }\r\n}))\r\n\r\nexport default TimePad","export default __webpack_public_path__ + \"static/media/percentage.a11cd316.svg\";","import React from 'react'\r\nimport { Icon, makeStyles, Button, TextField, Theme, CircularProgress, IconButton, Typography } from '@material-ui/core'\r\nimport { Check, CloseRounded, ScheduleRounded } from '@material-ui/icons'\r\nimport { Employee, EmployeePayload } from '../store/shift/types'\r\nimport { EnterIcon, LeaveIcon } from './EmployeeItem'\r\nimport NumberPad from './NumberPad'\r\nimport TimePad from './TimePad'\r\nimport Percent from '../percentage.svg'\r\nimport clsx from 'clsx'\r\nimport { Alert } from '@material-ui/lab'\r\nimport { useAppDispatch, useAppSelector } from '../store'\r\nimport { addEmployee, updateEmployeeByName } from '../store/shift/actions'\r\n\r\ninterface EmployeeFormProps {\r\n    employee?: Employee\r\n    onCancel?: () => void\r\n    onError?: (error: string) => void\r\n    onSuccess?: () => void\r\n}\r\n\r\ntype EmployeeErrorKeys = keyof EmployeePayload | 'main'\r\n\r\ninterface EmployeeFormInput extends EmployeePayload {\r\n}\r\n\r\ninterface EmployeeFormState {\r\n    loading: boolean\r\n    errors: {\r\n        [key in keyof EmployeePayload | 'main']?: string[]\r\n    }\r\n}\r\n\r\nconst date = new Date()\r\ndate.setHours(0, 0, 0, 0)\r\n\r\nconst EmployeeForm: React.FC<EmployeeFormProps> = ({ employee, onSuccess, onCancel }) => {\r\n    const classes = useStyles()\r\n    const dispatch = useAppDispatch()\r\n    const { employees } = useAppSelector(state => state.shift)\r\n    const [input, setInput] = React.useState<EmployeeFormInput>({\r\n        name: employee?.name || '',\r\n        start: employee?.start || date,\r\n        end: employee?.end || date,\r\n        percent: employee?.percent || 100,\r\n        type: employee?.type || 'מלצר'\r\n    })\r\n\r\n    const [state, setState] = React.useState<EmployeeFormState>({ loading: false, errors: {} })\r\n\r\n    const handleError = (source: EmployeeErrorKeys, message: string) => {\r\n        const target = state.errors[source]\r\n        if (target) {\r\n            if (target.find(e => e === message)) return\r\n\r\n            target.push(message)\r\n        }\r\n\r\n        if (!target) {\r\n            state.errors[source] = [message]\r\n        }\r\n\r\n        setState({ ...state, loading: false })\r\n    }\r\n\r\n    const handleSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault()\r\n\r\n        if (!state.errors.main && Object.keys(state.errors).length > 0) return handleError('main', 'יש לתקן את השגיאות קודם.');\r\n\r\n        if (!input.name || !input.type || !input.start || !input.end) return handleError('main', 'יש לוודא שכל הפרטים הוזנו.')\r\n\r\n        if (getHours().before === 0) return handleError('main', 'אין אפשרות להוסיף עובד עם 0 שעות.')\r\n\r\n        if (!employee && employees.find(e => e.name === input.name)) return handleError('main', `\"${input.name}\" כבר קיים ברשימה.`)\r\n\r\n        setTimeout(() => {\r\n            if (employee) {\r\n                const action = updateEmployeeByName(employee.name, input)\r\n                if (action) {\r\n                    dispatch(action)\r\n                    return onSuccess?.()\r\n                } else {\r\n                    return handleError('main', 'משהו השתבש יש לנסות שוב.')\r\n                }\r\n            }\r\n            dispatch(addEmployee(input))\r\n            onSuccess?.()\r\n        }, 400)\r\n    }\r\n\r\n    const handleChange = <T extends keyof EmployeePayload, V extends EmployeePayload[T]>(target: T, value: V) => {\r\n        if (['name', 'type'].includes(target) && typeof value === 'string') {\r\n            setInput({ ...input, [target]: value.replaceAll(/\\s\\s+/g, ' ').substr(0, 20) })\r\n\r\n            if (value === '') {\r\n                delete state.errors[target]\r\n                return handleError(target, 'שדה חובה.')\r\n            } else if (state.errors[target]) {\r\n                state.errors[target] = state.errors[target]?.filter(msg => msg !== 'שדה חובה.') || state.errors[target]\r\n            }\r\n\r\n            const regex = new RegExp(/^[a-zA-Zא-ת ]+$/)\r\n\r\n            if (!regex.test(value as string)) {\r\n                handleError(target, 'שדה זה יכול להכיל אותיות בלבד.')\r\n            } else if (state.errors[target]) {\r\n                state.errors[target] = state.errors[target]?.filter(msg => msg !== 'שדה זה יכול להכיל אותיות בלבד.') || state.errors[target]\r\n            }\r\n\r\n            if (value.toString().length > 20) {\r\n                handleError(target, 'ניתן להזין עד 20 תווים.')\r\n            } else if (state.errors[target]) {\r\n                state.errors[target] = state.errors[target]?.filter(msg => msg !== 'ניתן להזין עד 20 תווים.') || state.errors[target]\r\n            }\r\n\r\n            if (state.errors[target]?.length === 0) {\r\n                delete state.errors[target]\r\n            }\r\n\r\n            setState({ ...state, loading: false })\r\n        } else {\r\n            setInput({ ...input, [target]: value })\r\n        }\r\n    }\r\n\r\n    const handleTimeChange = (target: 'start' | 'end', value: string[]) => {\r\n        const date = new Date()\r\n        date.setHours(Number(value[0]) || 0, Number(value[1]) || 0, 0, 0)\r\n\r\n        handleChange(target, date)\r\n\r\n        if (!employee && target === 'start') {\r\n            setTimeout(() => {\r\n                document.getElementById('leave')?.click()\r\n            }, 300)\r\n        }\r\n\r\n        if (!employee && target === 'end') {\r\n            setTimeout(() => {\r\n                document.getElementById('percent')?.click()\r\n            }, 300)\r\n        }\r\n    }\r\n\r\n    const getHours = () => {\r\n        const start = (input.start.getHours() + (input.start.getMinutes() / 60))\r\n        const end = input.end.getHours() + (input.end.getMinutes() / 60)\r\n        const hours = (start > end ? (24 - start) + end : (+input.end - +input.start) / 1000 / 3600) || 0\r\n\r\n        return { before: hours, after: (input.percent / 100) * hours }\r\n    }\r\n\r\n    const getTimeString = (target: 'start' | 'end'): string => {\r\n        const value = input[target]\r\n        return `${value.getHours() < 10 ? `0${value.getHours()}` : value.getHours().toString()}:${value.getMinutes() < 10 ? `0${value.getMinutes()}` : value.getMinutes().toString()}`\r\n    }\r\n\r\n    const isDisabled = () => {\r\n        if (state.loading || !input.name || !input.type || input.percent > 100 || input.percent < 0 || !input.start || !input.end || getHours().before === 0) return true\r\n\r\n        return false\r\n    }\r\n\r\n    const handleKeyUp = (e: React.KeyboardEvent<HTMLInputElement>) => {\r\n        const next = document.getElementsByName('type')[0]\r\n        const target = e.currentTarget.querySelector('input')\r\n\r\n        if (e.key === 'Enter' && target?.name === 'name') {\r\n            if (target.value === '') return handleChange('name', target.value)\r\n\r\n            if (!employee) return next?.focus()\r\n\r\n            e.preventDefault()\r\n            target?.blur()\r\n        }\r\n        if (e.key === 'Enter' && target?.name === 'type') {\r\n            if (target.value === '') {\r\n                return handleChange('type', target.value)\r\n            }\r\n\r\n            e.preventDefault()\r\n            target?.blur()\r\n\r\n            if (!employee) {\r\n                setTimeout(() => {\r\n                    document.getElementById('enter')?.click()\r\n                }, 500)\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleClose = () => {\r\n        onCancel?.()\r\n    }\r\n\r\n    return (\r\n        <form onSubmit={handleSubmit} className={classes.root}>\r\n            <div className={classes.header}>\r\n                <Typography style={{ padding: '0 16px' }} variant=\"h6\" component=\"h1\">{employee ? 'עריכת עובד' : 'הוספת עובד'}</Typography>\r\n                <IconButton onClick={handleClose}>\r\n                    <CloseRounded />\r\n                </IconButton>\r\n            </div>\r\n            {\r\n                state.errors.main && <Alert className={classes.mainError} severity=\"error\">{state.errors.main}</Alert>\r\n            }\r\n            <div className={classes.field}>\r\n                <TextField\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    label=\"שם עובד\"\r\n                    name=\"name\"\r\n                    required\r\n                    value={input.name}\r\n                    onChange={e => handleChange('name', e.currentTarget.value)}\r\n                    autoFocus\r\n                    onKeyPress={handleKeyUp}\r\n                    error={Boolean(state.errors?.name)}\r\n                    helperText={\r\n                        <>\r\n                            {\r\n                                state.errors.name && state.errors.name.map((error, i) => (\r\n                                    <b key={i}>* {error}<br /></b>\r\n                                ))\r\n                            }\r\n                        </>\r\n                    }\r\n                    inputProps={{\r\n                        enterKeyHint: 'enter',\r\n                    }}\r\n                />\r\n            </div>\r\n            <div className={classes.field}>\r\n                <TextField\r\n                    fullWidth\r\n                    autoComplete=\"off\"\r\n                    variant=\"outlined\"\r\n                    type=\"text\"\r\n                    name=\"type\"\r\n                    label=\"תפקיד\"\r\n                    required\r\n                    value={input.type}\r\n                    onKeyPress={handleKeyUp}\r\n                    error={Boolean(state.errors.type)}\r\n                    helperText={\r\n                        <>\r\n                            {\r\n                                state.errors.type && state.errors.type.map((error, i) => (\r\n                                    <b key={i}>* {error}<br /></b>\r\n                                ))\r\n                            }\r\n                        </>\r\n                    }\r\n                    onChange={e => handleChange('type', e.currentTarget.value)}\r\n                />\r\n            </div>\r\n            <div className={clsx(classes.field, classes.items)}>\r\n                <div className={classes.item}>\r\n                    <TimePad\r\n                        value={getTimeString('start')}\r\n                        onChange={value => handleTimeChange('start', value)}\r\n                        icon={<EnterIcon />}\r\n                        label=\"כניסה\"\r\n                        id=\"enter\"\r\n                    />\r\n                </div>\r\n                <div className={classes.item}>\r\n                    <TimePad\r\n                        value={getTimeString('end')}\r\n                        onChange={value => handleTimeChange('end', value)}\r\n                        icon={<LeaveIcon />}\r\n                        label=\"יציאה\"\r\n                        id=\"leave\"\r\n                    />\r\n                </div>\r\n            </div>\r\n            <div className={clsx(classes.field, classes.items)}>\r\n                <div className={classes.item}>\r\n                    <div>\r\n                        <NumberPad\r\n                            max={100}\r\n                            onChange={value => handleChange('percent', value)}\r\n                            icon={<Icon style={{ display: 'flex', alignItems: 'center', justifyContent: 'center' }}>\r\n                                <img alt=\"אחוז תשר\" src={Percent} width={20} height={20} color=\"red\" />\r\n                            </Icon>}\r\n                            label=\"אחוז תשר\"\r\n                            value={input.percent}\r\n                            id=\"percent\"\r\n                        />\r\n                    </div>\r\n                </div>\r\n                <div className={classes.item}>\r\n                    <Button disabled style={{ fontSize: 18 }}>\r\n                        <div style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\r\n                            <ScheduleRounded style={{ color: '#999' }} />\r\n                            <div>\r\n                                {getHours().before.toFixed(2)}\r\n                            </div>\r\n                            <span className={classes.itemLabel}>\r\n                                {\r\n                                    input.percent < 100\r\n                                        ? <div style={{ fontSize: 12 }}>\r\n                                            <b>{input.percent}%</b>\r\n                                            <div>{getHours().after.toFixed(2)}ש'</div>\r\n                                        </div>\r\n                                        : `סה\"כ שעות`\r\n                                }\r\n                            </span>\r\n                        </div>\r\n                    </Button>\r\n                </div>\r\n            </div>\r\n            <Button disableFocusRipple disableRipple disableElevation fullWidth type=\"submit\" disabled={isDisabled()} variant=\"contained\" className={clsx(classes.submit, isDisabled() && classes.submitDisabled)}>\r\n                {\r\n                    state.loading\r\n                        ? <CircularProgress style={{ color: '#999', width: 25, height: 25 }} />\r\n                        : <Check />\r\n                }\r\n            </Button>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        overflowX: 'hidden',\r\n        outline: 'none',\r\n        boxSizing: 'border-box',\r\n        [theme.breakpoints.up(400)]: {\r\n            width: 350\r\n        }\r\n    },\r\n    header: {\r\n        width: '100%',\r\n        background: '#fff',\r\n        borderBottom: '1px solid #ebebeb',\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between'\r\n    },\r\n    item: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        boxSizing: 'border-box',\r\n    },\r\n    field: {\r\n        width: '100%',\r\n        overflow: 'hidden',\r\n        boxSizing: 'border-box',\r\n        padding: theme.spacing(1, 2),\r\n        '&:first-child': {\r\n            // marginTop: theme.spacing(1)\r\n        }\r\n    },\r\n    items: {\r\n        position: 'relative',\r\n        width: '100%',\r\n        display: 'flex',\r\n        alignItems: 'flex-start',\r\n        justifyContent: 'space-around',\r\n        boxSizing: 'border-box',\r\n    },\r\n    submit: {\r\n        background: 'lightGreen',\r\n        boxSizing: 'border-box',\r\n        height: 60,\r\n        borderRadius: 0,\r\n        transition: theme.transitions.create(['background-color'], {\r\n            easing: theme.transitions.easing.easeInOut\r\n        }),\r\n        '&:hover': {\r\n            background: 'lightGreen',\r\n        }\r\n    },\r\n    submitDisabled: {\r\n        backgroundColor: theme.palette.grey[100]\r\n    },\r\n    itemLabel: {\r\n        color: '#999',\r\n        fontSize: 11\r\n    },\r\n    mainError: {\r\n        marginBottom: theme.spacing(1)\r\n    }\r\n}))\r\n\r\nexport default EmployeeForm","import React from 'react'\r\nimport { Container, makeStyles, Theme, IconButton, Dialog } from '@material-ui/core'\r\nimport { Add } from '@material-ui/icons'\r\nimport { useAppSelector } from '../store'\r\nimport { getShift } from '../store/shift/actions'\r\nimport EmployeeForm from './EmployeeForm'\r\nimport EmployeeItem, { SlideUpTransition } from './EmployeeItem'\r\n\r\ninterface EmployeesListProps {\r\n}\r\n\r\nconst EmployeesList: React.FC<EmployeesListProps> = () => {\r\n    const classes = useStyles()\r\n    const shift = useAppSelector(getShift)\r\n    const [add, setAdd] = React.useState<boolean>(false)\r\n\r\n    if (!shift) return <div>לא קיים רישום</div>\r\n\r\n    const handleAddOpen = () => setAdd(true)\r\n    const handleAddClose = () => setAdd(false)\r\n\r\n    return (\r\n        <>\r\n            <Container className={classes.container}>\r\n                <div className={classes.row}>\r\n                    <IconButton\r\n                        className={classes.addButton}\r\n                        onClick={handleAddOpen}\r\n                        disabled={add}\r\n                    >\r\n                        <Add />\r\n                    </IconButton>\r\n                    <Dialog\r\n                        open={add}\r\n                        onClose={handleAddClose}\r\n                        TransitionComponent={SlideUpTransition}\r\n                    >\r\n                        <EmployeeForm onSuccess={handleAddClose} onCancel={handleAddClose} />\r\n                    </Dialog>\r\n                </div>\r\n                {\r\n                    shift.employees.map((employee, i) => <EmployeeItem key={i} employee={employee} />)\r\n                }\r\n            </Container>\r\n        </>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        position: 'relative',\r\n        overflow: 'auto',\r\n        width: '100%',\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flex: 1\r\n    },\r\n    row: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        position: 'relative',\r\n        minHeight: 50,\r\n        margin: theme.spacing(.5, 0)\r\n    },\r\n    addButton: {\r\n        margin: theme.spacing(1, 'auto'),\r\n        border: '1px solid rgba(0,0,0,0.54)'\r\n    },\r\n    addForm: {\r\n        // padding: theme.spacing(1, 2)\r\n    }\r\n}))\r\n\r\nexport default EmployeesList","import React from 'react'\r\nimport { makeStyles, Theme, Tooltip, Button } from '@material-ui/core'\r\nimport { useAppSelector } from '../store'\r\nimport { getShift } from '../store/shift/actions'\r\nimport { CreditCardOutlined, LocalAtmOutlined, AlarmOnOutlined, PeopleAltOutlined, ScheduleOutlined } from '@material-ui/icons'\r\n\r\ninterface ItemProps {\r\n    title: string\r\n    value: string | number\r\n    icon?: React.ReactNode\r\n    label: string\r\n}\r\n\r\nconst SideItem: React.FC<ItemProps> = (props) => {\r\n    const classes = useStyles()\r\n    const [open, setOpen] = React.useState<boolean>(false)\r\n\r\n    const handleOpen = () => setOpen(true)\r\n    const handleClose = () => setOpen(false)\r\n\r\n    return (\r\n        <Tooltip open={open} onClose={handleClose} arrow title={props.label} placement=\"left\">\r\n            <Button onClick={handleOpen} className={classes.item}>\r\n                <div className=\"icon\">{props.icon}</div>\r\n                <div className=\"value\">{props.value}</div>\r\n                <div className=\"title\">{props.title}</div>\r\n            </Button>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nconst SidePanel: React.FC = () => {\r\n    const classes = useStyles()\r\n    const shift = useAppSelector(getShift)\r\n\r\n    if (!shift) return <></>\r\n\r\n    const fields: ItemProps[] = [\r\n        {\r\n            title: 'עובדים',\r\n            value: shift.employees.length,\r\n            icon: <PeopleAltOutlined />,\r\n            label: 'סה\"כ עובדים במשמרת'\r\n        },\r\n        {\r\n            title: 'שעות',\r\n            value: shift.hours.toLocaleString('en-US', { maximumFractionDigits: 2 }),\r\n            icon: <ScheduleOutlined />,\r\n            label: 'סה\"כ שעות משמרת'\r\n        },\r\n        {\r\n            title: 'מזומן',\r\n            value: shift.perhour.cash.toLocaleString('en-US', { maximumFractionDigits: 2 }),\r\n            icon: <LocalAtmOutlined />,\r\n            label: 'מזומן לשעה'\r\n        },\r\n        {\r\n            title: 'אשראי',\r\n            value: shift.perhour.credit.toLocaleString('en-US', { maximumFractionDigits: 2 }),\r\n            icon: <CreditCardOutlined />,\r\n            label: 'אשראי לשעה'\r\n        },\r\n        {\r\n            title: 'סה\"כ',\r\n            value: (shift.perhour.cash + shift.perhour.credit).toLocaleString('en-US', { maximumFractionDigits: 2 }),\r\n            icon: <AlarmOnOutlined />,\r\n            label: 'סה\"כ מזומן ואשראי'\r\n        }\r\n    ]\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            {\r\n                fields.map((field, i) => <SideItem key={i} {...field} />)\r\n            }\r\n            {/* {\r\n                Array.from({ length: 10 }).map((e, i) => <SideItem key={i} value={i * 10} label=\"zxc\" title=\"asd\" />)\r\n            } */}\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        position: 'relative',\r\n        height: '100%',\r\n        overflowY: 'auto',\r\n        boxSizing: 'border-box',\r\n        background: '#fff',\r\n        color: theme.palette.getContrastText('#fff'),\r\n        borderRight: '1px solid #eaeaea',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        userSelect: 'none',\r\n        overflowX: 'hidden',\r\n        minWidth: '75px'\r\n    },\r\n    item: {\r\n        display: 'flex',\r\n        alignItems: 'center',\r\n        justifyContent: 'center',\r\n        flexDirection: 'column',\r\n        padding: theme.spacing(1, 2),\r\n        '& span': {\r\n            display: 'flex',\r\n            flexDirection: 'column'\r\n        },\r\n        '& .title, & .icon': {\r\n            fontSize: '11px',\r\n            color: '#999'\r\n        },\r\n        '& .icon svg': {\r\n            width: 25,\r\n            height: 25\r\n        },\r\n        '& .value': {\r\n            fontSize: 12\r\n        }\r\n    },\r\n}))\r\n\r\nexport default SidePanel","import React from 'react'\r\nimport { Container, makeStyles, Theme } from '@material-ui/core'\r\nimport { useAppDispatch, useAppSelector } from '../store'\r\nimport { getShift, setShiftWage } from '../store/shift/actions'\r\nimport { MapObject, Shift, Wage } from '../store/shift/types'\r\nimport NumberPad from './NumberPad'\r\nimport { LocalAtmOutlined, PaymentOutlined } from '@material-ui/icons'\r\nimport clsx from 'clsx'\r\n\r\nconst WageForm: React.FC = () => {\r\n    const classes = useStyles()\r\n    const shift = useAppSelector(getShift)\r\n    const dispatch = useAppDispatch()\r\n    const [open, setOpen] = React.useState<{ target: HTMLElement, label: 'cash' | 'credit' } | null>(null)\r\n\r\n    if (!shift) return <></>\r\n\r\n    const tip = shift.tip as MapObject<Wage>\r\n\r\n    const handleChange = (target: keyof Shift['tip'], value: number) => {\r\n        dispatch(setShiftWage({ ...shift.tip, [target]: value }))\r\n        setOpen(null)\r\n    }\r\n\r\n    const labels: MapObject<{ [key in keyof Wage]: string }> = { cash: 'מזומן למשמרת', credit: 'אשראי למשמרת' }\r\n\r\n    const isOpen = (target: keyof Shift['tip']) => {\r\n        if (!open) return undefined\r\n\r\n        if (open.label === target) return open.target\r\n    }\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Container maxWidth=\"lg\" className={classes.container}>\r\n                {\r\n                    Object.keys(labels).map((key, i) => (\r\n                        <div key={i} className={clsx(classes.field, tip[key as keyof Shift['tip']] > 0 && classes.active)}>\r\n                            <NumberPad\r\n                                open={isOpen(key as keyof Shift['tip'])}\r\n                                max={10000}\r\n                                value={tip[key as keyof Shift['tip']]}\r\n                                onChange={value => handleChange(key as keyof Shift['tip'], value)}\r\n                                icon={\r\n                                    key === 'cash'\r\n                                        ? <LocalAtmOutlined className={clsx(classes.icon, tip[key as keyof Shift['tip']] > 0 && classes.active)} fontSize=\"inherit\" />\r\n                                        : <PaymentOutlined className={clsx(classes.icon, tip[key as keyof Shift['tip']] > 0 && classes.active)} fontSize=\"inherit\" />\r\n                                }\r\n                                label={\r\n                                    key === 'cash'\r\n                                        ? 'מזומן משמרת'\r\n                                        : 'אשראי משמרת'\r\n                                }\r\n                            />\r\n                        </div>\r\n                    ))\r\n                }\r\n            </Container>\r\n        </div >\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        height: '100px',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flex: 1,\r\n        padding: theme.spacing(1, 0),\r\n        alignItems: 'center',\r\n        justifyContent: 'space-between',\r\n        background: '#fff',\r\n        borderBottom: '1px solid #eaeaea',\r\n        paddingRight: 6,\r\n        // boxSizing: 'border-box',\r\n    },\r\n    container: {\r\n        display: 'flex',\r\n        width: '100%',\r\n        alignItems: 'stretch',\r\n        justifyContent: 'space-between',\r\n    },\r\n    field: {\r\n        width: '100%',\r\n        margin: theme.spacing(0, 2),\r\n        boxSizing: 'border-box',\r\n        border: '1px solid #ebebeb',\r\n        display: 'flex',\r\n        flexDirection: 'row-reverse',\r\n        alignItems: 'flex-start',\r\n        fontSize: 20,\r\n        fontWeight: 300,\r\n        color: '#333',\r\n        borderRadius: theme.shape.borderRadius\r\n    },\r\n    icon: {\r\n        color: '#bbb',\r\n        width: 25,\r\n        height: 25\r\n    },\r\n    active: {\r\n        color: '#0089c0!important',\r\n    },\r\n    itemText: {\r\n        fontSize: 13,\r\n        color: '#bbb',\r\n        textAlign: 'center'\r\n    }\r\n}))\r\n\r\nexport default WageForm","import { makeStyles, Theme, AppBar, Toolbar, Typography, Tooltip, IconButton } from '@material-ui/core'\r\nimport React from 'react'\r\nimport { useAppSelector } from './store'\r\nimport { getShift } from './store/shift/actions'\r\nimport EmployeesList from './components/EmployeeList'\r\nimport SidePanel from './components/SidePanel'\r\nimport WageForm from './components/WageForm'\r\nimport { CalendarTodayRounded } from '@material-ui/icons'\r\nimport { Link } from 'react-router-dom'\r\n\r\nconst AppBarDate: React.FC<{ value?: Date }> = ({ value }) => {\r\n    const date = value || new Date()\r\n    const [anchor, setAnchor] = React.useState<HTMLElement | null>(null)\r\n\r\n    const days = ['ראשון', 'שני', 'שלישי', 'רביעי', 'חמישי', 'שישי', 'שבת']\r\n    const months = ['ינואר', 'פברואר', 'מרץ', 'אפריל', 'מאי', 'יוני', 'יולי', 'אוגוסט', 'ספטמבר', 'אוקטובר', 'נובמבר', 'דצמבר']\r\n\r\n    const handleOpen = (e: React.MouseEvent<HTMLButtonElement>) => setAnchor(e.currentTarget)\r\n    const handleClose = () => setAnchor(null)\r\n\r\n    const open = Boolean(anchor)\r\n\r\n    return (\r\n        <Tooltip arrow onClose={handleClose} open={open} disableFocusListener title={`יום ${days[date.getDay()]}, ${date.getDate()} ל${months[date.getMonth()]} ${date.getFullYear()}`}>\r\n            <IconButton\r\n                onClick={handleOpen}\r\n                size=\"small\"\r\n                style={{ margin: '0 11px', position: 'relative', minWidth: 55 }}\r\n            >\r\n                <CalendarTodayRounded style={{ width: 35, height: 35, color: '#999' }} />\r\n                <div style={{ position: 'absolute', fontSize: 14, fontWeight: 700, bottom: 7, color: '#999' }}>\r\n                    {date.getDate()}\r\n                </div>\r\n            </IconButton>\r\n        </Tooltip>\r\n    )\r\n}\r\n\r\nconst App: React.FC = () => {\r\n    const classes = useStyles()\r\n    const shift = useAppSelector(getShift)\r\n\r\n    if (!shift) return <div>אין משמרת</div>\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <AppBar position=\"fixed\" className={classes.appBar}>\r\n                <Toolbar className={classes.toolbar} disableGutters>\r\n                    <AppBarDate value={shift.date} />\r\n                    <Typography variant=\"h6\" component=\"h1\" style={{ textAlign: 'center', width: '100%', fontWeight: 700, color: '#999' }}>Smart Tip</Typography>\r\n                </Toolbar>\r\n            </AppBar>\r\n            <Toolbar />\r\n            <div className={classes.container}>\r\n                <SidePanel />\r\n                <div className={classes.main}>\r\n                    <div style={{ order: 1 }}>\r\n                        <WageForm />\r\n                    </div>\r\n                    <div className={classes.content}>\r\n                        <EmployeesList />\r\n                        <div className={classes.footer}>\r\n                            <div style={{ justifyContent: 'space-between', width: '100%', padding: '0 8px', direction: 'ltr', textAlign: 'center', display: 'flex', flexDirection: 'row', alignItems: 'space-between', fontSize: 11, color: '#999' }}>\r\n                                <div>\r\n                                    <Link to=\"/about\" style={{ color: '#333', textDecoration: 'none' }}>Smart Tip</Link> beta 1.2.1\r\n                                </div>\r\n                                <div>\r\n                                    <Link to=\"/contact\" style={{ color: '#333', textDecoration: 'none' }}>Ilia Kamilov</Link> {new Date().getFullYear()} ©\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\n\r\nconst useStyles = makeStyles((theme: Theme) => ({\r\n    root: {\r\n        width: '100%',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        overflow: 'hidden',\r\n        height: '100%',\r\n    },\r\n    appBar: {\r\n        backgroundColor: '#fff',\r\n        color: theme.palette.getContrastText('#fff'),\r\n        boxShadow: theme.shadows[0],\r\n        borderBottom: '1px solid #eaeaea'\r\n    },\r\n    toolbar: {\r\n        display: 'flex',\r\n        justifyContent: 'space-between'\r\n    },\r\n    container: {\r\n        width: '100%',\r\n        position: 'relative',\r\n        display: 'flex',\r\n        background: '#efefef',\r\n        height: `calc(100% - 64px)`,\r\n        [theme.breakpoints.down(600)]: {\r\n            height: `calc(100% - ${theme.mixins.toolbar['minHeight']}px)`\r\n        }\r\n    },\r\n    wage: {\r\n        position: 'relative',\r\n        boxShadow: '1px 1px 3px rgba(0,0,0,.1)',\r\n        zIndex: 100\r\n    },\r\n    main: {\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        width: '100%',\r\n    },\r\n    content: {\r\n        position: 'relative',\r\n        display: 'flex',\r\n        flexDirection: 'column',\r\n        flex: 1,\r\n        order: 2,\r\n        overflowY: 'scroll'\r\n    },\r\n    item: {\r\n        height: '200px',\r\n    },\r\n    employeeButton: {\r\n        width: '100%',\r\n        border: 0,\r\n        background: 'transparent'\r\n    },\r\n    footer: {\r\n        width: '100%',\r\n        flex: 1,\r\n        display: 'flex',\r\n        alignSelf: 'flex-end',\r\n        alignItems: 'flex-end',\r\n        justifyContent: 'center',\r\n        padding: theme.spacing(.5, 0)\r\n    }\r\n}))\r\n\r\nexport default App","import React from 'react'\r\n\r\nconst AboutView: React.FC = () => {\r\n    return (\r\n        <div>About</div>\r\n    )\r\n}\r\n\r\nexport default AboutView","import React from 'react'\r\n\r\nconst ContactView: React.FC = () => {\r\n    return (\r\n        <div>Contact</div>\r\n    )\r\n}\r\n\r\nexport default ContactView","import React from 'react'\r\n\r\nconst NotFoundView: React.FC = () => {\r\n    return (\r\n        <div>Not Found</div>\r\n    )\r\n}\r\n\r\nexport default NotFoundView","import React from 'react'\r\nimport { BrowserRouter as Router, Route, Switch } from 'react-router-dom'\r\nimport App from '../App'\r\nimport AboutView from './views/AboutView'\r\nimport ContactView from './views/ContactView'\r\nimport NotFoundView from './views/NotFoundView'\r\n\r\nconst AppRouter: React.FC = () => {\r\n    return (\r\n        <Router basename={process.env.PUBLIC_URL}>\r\n            <Switch>\r\n                <Route exact path=\"/\">\r\n                    <App />\r\n                </Route>\r\n                <Route exact path=\"/about\">\r\n                    <AboutView />\r\n                </Route>\r\n                <Route exact path=\"/contact\">\r\n                    <ContactView />\r\n                </Route>\r\n                <Route status={404}>\r\n                    <NotFoundView />\r\n                </Route>\r\n            </Switch>\r\n        </Router>\r\n    )\r\n}\r\n\r\nexport default AppRouter","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport reportWebVitals from './reportWebVitals';\r\nimport './index.css'\r\nimport StoreProvider from './store';\r\nimport RTL from './rtl';\r\nimport AppRouter from './router';\r\n\r\nReactDOM.render(\r\n  <StoreProvider>\r\n    <RTL>\r\n      <AppRouter />\r\n    </RTL>\r\n  </StoreProvider>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n"],"sourceRoot":""}